<head>
  <title>testing</title>
</head>

<body>

  {{> invoiceTestTemplate }}

</body>

<template name="invoiceTestTemplate">

	{{#with invoice }}

	  <button>Reverse that shit</button>

	  <input type="text" value="{{ getReactiveValue 'something' }}">

  	<h1>Currency: {{ getReactiveValue 'currency' }}</h1>

  	<ul>

	  	{{#each getReactiveValue 'items' }}

	  		<li>
	  			<span class="change-val">{{ getReactiveValue 'itemName' }}, </span>
	  			{{ getReactiveValue 'units' }} {{ getReactiveValue 'unitDescription' }} 
	  			@ {{ getReactiveValue 'unitPrice' }} {{ ../getReactiveValue 'currency' }}
	  			= {{ endPrice }} 
	  			({{ priceAfterTax }} after {{ getReactiveValue 'tax' }}% 
	  			{{ getReactiveValue 'taxDescription' }})
	  		</li>

	  	{{/each}}

	  	<p>
	  		Total price: {{ items.getTotal 'endPrice' }} 
	  		{{ getReactiveValue 'currency' }}
	  	</p>
	  	<p>
	  		with taxes: {{ items.getTotal 'priceAfterTax' }} 
	  		{{ getReactiveValue 'currency' }}
	  	</p>

		</ul>

		{{#with getReactiveValue 'client' }}

			<p><em>This is the client object from the invoice…</em></p>

			<h1>{{ getReactiveValue 'clientName' }}</h1>

		{{/with}}

		<hr>

  {{/with}}

  {{#with client }}

  	<p><em>Just the client…</em></p>

		<h1>{{ getReactiveValue 'clientName' }}</h1>

	{{/with}}

</template>